<section class="talk-section numbered" id="<%= slide.data[:id] %>">
  <h2 class="slide-title"><% markdown(inline: true) do %><%= slide.data[:title] %><% end %></h2>
  <% if slide.data[:slide].present? -%>
    <figure class="slides">
      <% if File.extname(slide.data[:slide][:image_url]) == '.mp4' %>
        <video controls class="slide" src="<%= slide.data[:slide][:image_url] %>" <% if slide.data[:slide][:image_title].present? %> title="<%= slide.data[:slide][:image_title]%>"<% end %>>
          Your browser does not support video, this is what you're missing: <%= slide.data[:slide][:image_alt] %>.

          You can also <a href="<%= slide.data[:slide][:image_url] %>">download the video directly</a> instead.
        </video>
      <% else %>
        <img class="slide" src="<%= slide.data[:slide][:image_url] %>" alt="<%= slide.data[:slide][:image_alt] %>"<% if slide.data[:slide][:image_title].present? %> title="<%= slide.data[:slide][:image_title]%>"<% end %>>
      <% end %>
      <% if slide.data[:slide][:caption] -%>
        <figcaption><% markdown do %><%= slide.data[:slide][:caption] %><% end %></figcaption>
      <%- end %>
    </figure>
  <%- elsif slide.data[:terminal_output].present? -%>
    <div class="slides">
      <%= slide.data[:terminal_output] %>
    </div>
  <%- end -%>
  <div class="transcript">
    <%= slide.render(layout: false) -%>
  </div>
</section>
